Retrieving logs...
============= i-0c55eda250cd5ab80 ==============
----------------------------------------
/var/log/eb-hooks.log
----------------------------------------


----------------------------------------
/var/log/nginx/access.log
----------------------------------------
47.159.192.98 - - [28/Nov/2024:05:53:35 +0000] "GET / HTTP/1.1" 302 0 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:132.0) Gecko/20100101 Firefox/132.0" "-"


----------------------------------------
/var/log/nginx/error.log
----------------------------------------
2024/11/28 05:51:40 [warn] 4061#4061: could not build optimal types_hash, you should increase either types_hash_max_size: 1024 or types_hash_bucket_size: 64; ignoring types_hash_bucket_size
2024/11/28 05:51:41 [warn] 4094#4094: could not build optimal types_hash, you should increase either types_hash_max_size: 1024 or types_hash_bucket_size: 64; ignoring types_hash_bucket_size
2024/11/28 05:51:41 [warn] 4095#4095: could not build optimal types_hash, you should increase either types_hash_max_size: 1024 or types_hash_bucket_size: 64; ignoring types_hash_bucket_size


----------------------------------------
/var/log/puma/puma.log
----------------------------------------
=== puma startup: 2024-11-28 05:51:41 +0000 ===
=== puma startup: 2024-11-28 05:51:41 +0000 ===
[4057] - Worker 0 (PID: 4110) booted in 5.27s, phase: 0
[4057] - Worker 1 (PID: 4111) booted in 5.27s, phase: 0
[dfb6e13a-fc4f-4736-9635-4d8f302e1e9e] Started GET "/" for 47.159.192.98 at 2024-11-28 05:53:35 +0000
[dfb6e13a-fc4f-4736-9635-4d8f302e1e9e] Processing by HomeController#index as */*
[dfb6e13a-fc4f-4736-9635-4d8f302e1e9e] Redirected to https://test4.eba-p7hsp2c9.us-west-2.elasticbeanstalk.com/login
[dfb6e13a-fc4f-4736-9635-4d8f302e1e9e] Filter chain halted as :require_login rendered or redirected
[dfb6e13a-fc4f-4736-9635-4d8f302e1e9e] Completed 302 Found in 5ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


----------------------------------------
/var/log/web.stdout.log
----------------------------------------
Nov 28 05:51:41 ip-172-31-26-128 web[4057]: [4057] Puma starting in cluster mode...
Nov 28 05:51:41 ip-172-31-26-128 web[4057]: [4057] * Puma version: 6.4.3 (ruby 3.2.2-p53) ("The Eagle of Durango")
Nov 28 05:51:41 ip-172-31-26-128 web[4057]: [4057] *  Min threads: 8
Nov 28 05:51:41 ip-172-31-26-128 web[4057]: [4057] *  Max threads: 32
Nov 28 05:51:41 ip-172-31-26-128 web[4057]: [4057] *  Environment: production
Nov 28 05:51:41 ip-172-31-26-128 web[4057]: [4057] *   Master PID: 4057
Nov 28 05:51:41 ip-172-31-26-128 web[4057]: [4057] *      Workers: 2
Nov 28 05:51:41 ip-172-31-26-128 web[4057]: [4057] *     Restarts: (✔) hot (✔) phased
Nov 28 05:51:41 ip-172-31-26-128 web[4057]: [4057] * Listening on unix:///var/run/puma/my_app.sock
Nov 28 05:51:41 ip-172-31-26-128 web[4057]: [4057] Use Ctrl-C to stop


----------------------------------------
/var/log/eb-engine.log
----------------------------------------
2024/11/28 05:51:39.191517 [INFO] Executing instruction: CleanEbExtensions
2024/11/28 05:51:39.191678 [INFO] Cleaned ebextensions subdirectories from app staging directory.
2024/11/28 05:51:39.191684 [INFO] Executing instruction: RunAppDeployPreDeployHooks
2024/11/28 05:51:39.191717 [INFO] Executing platform hooks in .platform/hooks/predeploy/
2024/11/28 05:51:39.191740 [INFO] The dir .platform/hooks/predeploy/ does not exist
2024/11/28 05:51:39.191743 [INFO] Finished running scripts in /var/app/staging/.platform/hooks/predeploy
2024/11/28 05:51:39.191748 [INFO] Executing instruction: stop X-Ray
2024/11/28 05:51:39.191751 [INFO] stop X-Ray ...
2024/11/28 05:51:39.191771 [INFO] Running command: systemctl show -p PartOf xray.service
2024/11/28 05:51:39.215319 [WARN] stopProcess Warning: process xray is not registered 
2024/11/28 05:51:39.215402 [INFO] Running command: systemctl stop xray.service
2024/11/28 05:51:39.231955 [INFO] Executing instruction: stop proxy
2024/11/28 05:51:39.232009 [INFO] Running command: systemctl show -p PartOf httpd.service
2024/11/28 05:51:39.241849 [WARN] deregisterProcess Warning: process httpd is not registered, skipping...

2024/11/28 05:51:39.241873 [INFO] Running command: systemctl show -p PartOf nginx.service
2024/11/28 05:51:39.257595 [WARN] deregisterProcess Warning: process nginx is not registered, skipping...

2024/11/28 05:51:39.257653 [INFO] Executing instruction: flip ruby application
2024/11/28 05:51:39.257759 [INFO] Running command: ruby -v | cut -d ' ' -f 2
2024/11/28 05:51:39.277330 [INFO] 3.2.2

2024/11/28 05:51:39.277488 [INFO] Purge old process...
2024/11/28 05:51:39.277552 [INFO] Removing /var/app/current/ if it exists
2024/11/28 05:51:39.277560 [INFO] Renaming /var/app/staging/ to /var/app/current/
2024/11/28 05:51:39.277576 [INFO] Register application processes...
2024/11/28 05:51:39.277578 [INFO] Registering the proc: web

2024/11/28 05:51:39.277586 [INFO] Running command: systemctl show -p PartOf web.service
2024/11/28 05:51:39.289987 [INFO] Running command: systemctl daemon-reload
2024/11/28 05:51:39.656985 [INFO] Running command: systemctl reset-failed
2024/11/28 05:51:39.667305 [INFO] Running command: systemctl is-enabled eb-app.target
2024/11/28 05:51:39.676650 [INFO] Copying file /opt/elasticbeanstalk/config/private/aws-eb.target to /etc/systemd/system/eb-app.target
2024/11/28 05:51:39.678839 [INFO] Running command: systemctl enable eb-app.target
2024/11/28 05:51:40.022927 [INFO] Created symlink /etc/systemd/system/multi-user.target.wants/eb-app.target → /etc/systemd/system/eb-app.target.

2024/11/28 05:51:40.022964 [INFO] Running command: systemctl start eb-app.target
2024/11/28 05:51:40.048498 [INFO] Running command: systemctl enable web.service
2024/11/28 05:51:40.417948 [INFO] Created symlink /etc/systemd/system/multi-user.target.wants/web.service → /etc/systemd/system/web.service.

2024/11/28 05:51:40.417983 [INFO] Running command: systemctl show -p PartOf web.service
2024/11/28 05:51:40.430633 [INFO] Running command: systemctl is-active web.service
2024/11/28 05:51:40.438701 [INFO] Running command: systemctl start web.service
2024/11/28 05:51:40.536899 [INFO] Executing instruction: start X-Ray
2024/11/28 05:51:40.536924 [INFO] X-Ray is not enabled.
2024/11/28 05:51:40.536928 [INFO] Executing instruction: start proxy with new configuration
2024/11/28 05:51:40.536951 [INFO] Running command: /usr/sbin/nginx -t -c /var/proxy/staging/nginx/nginx.conf
2024/11/28 05:51:40.593738 [INFO] nginx: [warn] could not build optimal types_hash, you should increase either types_hash_max_size: 1024 or types_hash_bucket_size: 64; ignoring types_hash_bucket_size
nginx: the configuration file /var/proxy/staging/nginx/nginx.conf syntax is ok
nginx: configuration file /var/proxy/staging/nginx/nginx.conf test is successful

2024/11/28 05:51:40.593883 [INFO] Running command: cp -rp /var/proxy/staging/nginx/* /etc/nginx
2024/11/28 05:51:40.601780 [INFO] Running command: systemctl show -p PartOf nginx.service
2024/11/28 05:51:40.626469 [INFO] Running command: systemctl daemon-reload
2024/11/28 05:51:41.092962 [INFO] Running command: systemctl reset-failed
2024/11/28 05:51:41.103242 [INFO] Running command: systemctl show -p PartOf nginx.service
2024/11/28 05:51:41.126184 [INFO] Running command: systemctl is-active nginx.service
2024/11/28 05:51:41.141500 [INFO] Running command: systemctl start nginx.service
2024/11/28 05:51:41.294106 [INFO] Executing instruction: configureSqsd
2024/11/28 05:51:41.294131 [INFO] This is a web server environment instance, skip configure sqsd daemon ...
2024/11/28 05:51:41.294135 [INFO] Executing instruction: startSqsd
2024/11/28 05:51:41.294138 [INFO] This is a web server environment instance, skip start sqsd daemon ...
2024/11/28 05:51:41.294150 [INFO] Executing instruction: Track pids in healthd
2024/11/28 05:51:41.294154 [INFO] This is an enhanced health env...
2024/11/28 05:51:41.294165 [INFO] Running command: systemctl show -p ConsistsOf aws-eb.target | cut -d= -f2
2024/11/28 05:51:41.311678 [INFO] cfn-hup.service healthd.service nginx.service

2024/11/28 05:51:41.311727 [INFO] Running command: systemctl show -p ConsistsOf eb-app.target | cut -d= -f2
2024/11/28 05:51:41.327918 [INFO] web.service

2024/11/28 05:51:41.329419 [INFO] Executing instruction: support rails logging
2024/11/28 05:51:41.329459 [INFO] adding builtin Rails logging support
2024/11/28 05:51:41.335412 [INFO] Executing instruction: RunAppDeployPostDeployHooks
2024/11/28 05:51:41.335506 [INFO] Executing platform hooks in .platform/hooks/postdeploy/
2024/11/28 05:51:41.335535 [INFO] The dir .platform/hooks/postdeploy/ does not exist
2024/11/28 05:51:41.335539 [INFO] Finished running scripts in /var/app/current/.platform/hooks/postdeploy
2024/11/28 05:51:41.335546 [INFO] Executing cleanup logic
2024/11/28 05:51:41.335722 [INFO] CommandService Response: {"status":"SUCCESS","api_version":"1.0","results":[{"status":"SUCCESS","msg":"Engine execution has succeeded.","returncode":0,"events":[{"msg":"Instance deployment completed successfully.","timestamp":1732773101335,"severity":"INFO"}]}]}

2024/11/28 05:51:41.335864 [INFO] Platform Engine finished execution on command: app-deploy

2024/11/28 05:53:52.315235 [INFO] Starting...
2024/11/28 05:53:52.315300 [INFO] Starting EBPlatform-PlatformEngine
2024/11/28 05:53:52.315330 [INFO] reading event message file
2024/11/28 05:53:52.319406 [INFO] Engine received EB command cfn-hup-exec

2024/11/28 05:53:52.544671 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:671946291905:stack/awseb-e-cmpjmtzify-stack/5341d330-ad4b-11ef-ad77-02278992b85d -r AWSEBAutoScalingGroup --region us-west-2
2024/11/28 05:53:53.068582 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:671946291905:stack/awseb-e-cmpjmtzify-stack/5341d330-ad4b-11ef-ad77-02278992b85d -r AWSEBBeanstalkMetadata --region us-west-2
2024/11/28 05:53:53.483592 [INFO] checking whether command tail-log is applicable to this instance...
2024/11/28 05:53:53.483605 [INFO] this command is applicable to the instance, thus instance should execute command
2024/11/28 05:53:53.483607 [INFO] Engine command: (tail-log)

2024/11/28 05:53:53.484764 [INFO] Executing instruction: GetTailLogs
2024/11/28 05:53:53.484770 [INFO] Tail Logs...
2024/11/28 05:53:53.486955 [INFO] Running command: tail -n 100 /var/log/eb-hooks.log
2024/11/28 05:53:53.489108 [INFO] Running command: tail -n 100 /var/log/nginx/access.log
2024/11/28 05:53:53.491098 [INFO] Running command: tail -n 100 /var/log/nginx/error.log
2024/11/28 05:53:53.492933 [INFO] Running command: tail -n 100 /var/log/puma/puma.log
2024/11/28 05:53:53.494653 [INFO] Running command: tail -n 100 /var/log/web.stdout.log
2024/11/28 05:53:53.496408 [INFO] Running command: tail -n 100 /var/log/eb-engine.log


